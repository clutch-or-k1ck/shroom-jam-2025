[gd_scene load_steps=39 format=3 uid="uid://bqnhgrmahpp44"]

[ext_resource type="Script" uid="uid://cc7qw8macbkml" path="res://scenes/chase_scene/chase_scene.gd" id="1_8pw8v"]
[ext_resource type="PackedScene" uid="uid://y4hccnwhpc3e" path="res://scenes/running_text_widget/running_text_widget.tscn" id="2_a4cdl"]
[ext_resource type="Texture2D" uid="uid://bh8cccfqnjbbb" path="res://assets/2d/Sky.png" id="2_b8in7"]
[ext_resource type="Texture2D" uid="uid://cookxxbmq5r6d" path="res://assets/2d/Ground_Main.png" id="2_ucmrg"]
[ext_resource type="AudioStream" uid="uid://3bhwi6fjds2g" path="res://assets/sounds/misc/cinematic-hit-159487.ogg" id="3_phute"]
[ext_resource type="PackedScene" uid="uid://rinq6u86110t" path="res://scenes/treadmill/treadmill_item/item_variations/treadmill_city_back.tscn" id="4_4p7bp"]
[ext_resource type="PackedScene" uid="uid://bsnf513113sfi" path="res://scenes/treadmill/treadmill_item/item_variations/treadmill_city_front.tscn" id="4_jqnf2"]
[ext_resource type="Script" uid="uid://beehhs7t2qyd" path="res://scenes/treadmill/treadmill.gd" id="4_myeqy"]
[ext_resource type="PackedScene" uid="uid://blo15if732qre" path="res://scenes/treadmill/treadmill_item/item_variations/treadmill_clouds.tscn" id="4_v4kp3"]
[ext_resource type="PackedScene" uid="uid://d0gundbavq47b" path="res://scenes/treadmill/treadmill_item/item_variations/treadmill_brick.tscn" id="5_myeqy"]
[ext_resource type="PackedScene" uid="uid://dk72dfih4oswg" path="res://scenes/treadmill/treadmill_item/item_variations/treadmill_fence_1.tscn" id="5_t50dl"]
[ext_resource type="PackedScene" uid="uid://cbm4li6t68yd2" path="res://scenes/treadmill/treadmill_item/item_variations/treadmill_tree_1.tscn" id="6_5qs4y"]
[ext_resource type="PackedScene" uid="uid://bqkucl7xa4j03" path="res://scenes/treadmill/treadmill_item/item_variations/treadmill_fence_2.tscn" id="6_dkpwp"]
[ext_resource type="PackedScene" uid="uid://gplrm6pp2dtk" path="res://scenes/treadmill/treadmill_item/item_variations/treadmill_tree_2.tscn" id="7_v4kp3"]
[ext_resource type="Texture2D" uid="uid://dxb3jmgumh2vd" path="res://assets/2d/UI_Breaking_News.png" id="9_dkpwp"]
[ext_resource type="PackedScene" uid="uid://ba0w1kf6h68wb" path="res://scenes/treadmill/treadmill_item/item_variations/tm_pillar.tscn" id="9_hjabt"]
[ext_resource type="Texture2D" uid="uid://y8wbnag6yxbr" path="res://assets/2d/UI_LIVE.png" id="10_envix"]
[ext_resource type="PackedScene" uid="uid://bf68uovsnajdd" path="res://scenes/treadmill/treadmill_item/item_variations/tm_fence_3.tscn" id="10_qrt7r"]
[ext_resource type="PackedScene" uid="uid://c8lnt2dejstw8" path="res://scenes/treadmill/treadmill_item/item_variations/tm_barrel_obstacle_1.tscn" id="11_4yt5v"]
[ext_resource type="Texture2D" uid="uid://nlp7x7wcx5qh" path="res://assets/2d/UI_Heart.png" id="11_q31dt"]
[ext_resource type="PackedScene" uid="uid://bsrnp6eyr2j8t" path="res://scenes/treadmill/treadmill_item/item_variations/tm_cones_1.tscn" id="12_w4tmd"]
[ext_resource type="PackedScene" uid="uid://ctsesmh2kgbr6" path="res://scenes/treadmill/treadmill_item/item_variations/tm_barrel_obstacle_2.tscn" id="13_01fa4"]
[ext_resource type="PackedScene" uid="uid://c0h0c0n624xcm" path="res://scenes/treadmill/treadmill_item/item_variations/tm_two_fences_and_sign.tscn" id="14_4yt5v"]
[ext_resource type="PackedScene" uid="uid://c7xeypsndd6ob" path="res://scenes/treadmill/treadmill_item/item_variations/tm_police_car.tscn" id="14_uha6m"]
[ext_resource type="PackedScene" uid="uid://c2ebex4h53dai" path="res://scenes/treadmill/treadmill_item/item_variations/tm_bench.tscn" id="17_ffie5"]
[ext_resource type="PackedScene" uid="uid://cxtf4k15r301y" path="res://scenes/treadmill/treadmill_item/item_variations/tm_house.tscn" id="18_4ieac"]
[ext_resource type="PackedScene" uid="uid://bti58niu6f3dw" path="res://scenes/treadmill/treadmill_item/item_variations/tm_policeman.tscn" id="18_gxndn"]
[ext_resource type="PackedScene" uid="uid://dse2pne7rqrfr" path="res://scenes/treadmill/treadmill_item/item_variations/tm_heal.tscn" id="19_u40ln"]
[ext_resource type="AudioStream" uid="uid://coqowv0r6vkmm" path="res://assets/sounds/music/Joker Dance.ogg" id="24_qrt7r"]
[ext_resource type="Script" uid="uid://ciq8odnuga3oh" path="res://scenes/bombardment_system/bombardier.gd" id="26_sdicq"]
[ext_resource type="PackedScene" uid="uid://d31fqyxxypyf4" path="res://scenes/treadmill/treadmill_item/item_variations/tm_helicopter.tscn" id="27_ffie5"]
[ext_resource type="PackedScene" uid="uid://c0pen7avqupmd" path="res://ui/game_score_widget.tscn" id="31_3ww4y"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_a4cdl"]
size = Vector2(2692, 110)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ffie5"]
size = Vector2(268, 948)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4ieac"]
size = Vector2(188, 936)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_4ieac"]
bg_color = Color(0.0430392, 0.0430392, 0.0430391, 1)
border_width_left = 3
border_width_top = 3
border_width_right = 3
border_width_bottom = 3
corner_radius_top_left = 10
corner_radius_top_right = 10
corner_radius_bottom_right = 10
corner_radius_bottom_left = 10

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_ffie5"]
bg_color = Color(1, 0.70073, 0.189169, 1)
border_width_left = 3
border_width_top = 3
border_width_right = 3
border_width_bottom = 3
border_color = Color(0, 0, 0, 1)
corner_radius_top_left = 10
corner_radius_top_right = 10
corner_radius_bottom_right = 10
corner_radius_bottom_left = 10

[sub_resource type="Theme" id="Theme_4ieac"]
ProgressBar/styles/background = SubResource("StyleBoxFlat_4ieac")
ProgressBar/styles/fill = SubResource("StyleBoxFlat_ffie5")

[node name="chase_scene_root" type="Node2D"]
script = ExtResource("1_8pw8v")
starting_world_speed = 1000
world_speed_increase_rate = 400
duck_anim_speed_increase_rate = 0.3

[node name="music_player" type="AudioStreamPlayer" parent="."]
stream = ExtResource("24_qrt7r")
volume_db = -10.0
parameters/looping = true

[node name="end_of_game_sfx" type="AudioStreamPlayer" parent="."]
stream = ExtResource("3_phute")
volume_db = -16.0

[node name="character_spawn" type="Node2D" parent="."]
z_index = 7
position = Vector2(484, -38)

[node name="bombardier" type="Node2D" parent="."]
z_index = 1000
position = Vector2(0, 816)
script = ExtResource("26_sdicq")
metadata/_custom_type_script = "uid://ciq8odnuga3oh"

[node name="sky_polygon" type="Polygon2D" parent="."]
texture = ExtResource("2_b8in7")
polygon = PackedVector2Array(1, -1, -2, 553, 2730, 552, 2726, 3)
uv = PackedVector2Array(1, -1, -2, 1041.42, 3847.25, 1025.14, 3839.11, -6.14028)

[node name="treadmill_clouds" type="Node2D" parent="."]
position = Vector2(0, 269)
script = ExtResource("4_myeqy")
item_types = Array[PackedScene]([ExtResource("4_v4kp3")])
global_speed_multiplier = 0.01
spawn_method = 1
spawn_probability = 0.2
apply_random_scaling = true
random_scale_min = 0.8
random_scale_max = 1.2
apply_random_displacement = true
random_displacement_min = Vector2(0, -100)
random_displacement_max = Vector2(0, 100)
spawn_buffer = null
despawn_buffer = null
enable_prespawn = true
prespawn_samples = 30
prespawn_probability = 0.1
metadata/_custom_type_script = "uid://beehhs7t2qyd"

[node name="city_backdrop" type="Node2D" parent="."]
position = Vector2(0, 486)

[node name="treadmill_city_back" type="Node2D" parent="city_backdrop"]
position = Vector2(0, -27)
script = ExtResource("4_myeqy")
item_types = Array[PackedScene]([ExtResource("4_4p7bp")])
global_speed_multiplier = 0.03
spawn_buffer = null
despawn_buffer = null
metadata/_custom_type_script = "uid://beehhs7t2qyd"

[node name="treadmill_city_front" type="Node2D" parent="city_backdrop"]
position = Vector2(0, -38)
script = ExtResource("4_myeqy")
item_types = Array[PackedScene]([ExtResource("4_jqnf2")])
global_speed_multiplier = 0.1
spawn_buffer = null
despawn_buffer = null
metadata/_custom_type_script = "uid://beehhs7t2qyd"

[node name="road" type="Node2D" parent="."]
position = Vector2(0, 919)

[node name="treadmill_trees" type="Node2D" parent="road"]
z_index = 1
position = Vector2(0, -476)
scale = Vector2(1, 0.727)
script = ExtResource("4_myeqy")
item_types = Array[PackedScene]([ExtResource("6_5qs4y"), ExtResource("7_v4kp3")])
global_speed_multiplier = 0.2
spawn_method = 1
spawn_probability = 0.4
apply_random_scaling = true
random_scale_min = 0.8
random_scale_max = 1.2
apply_random_displacement = true
random_displacement_max = Vector2(0, 40)
spawn_buffer = null
despawn_buffer = null
metadata/_custom_type_script = "uid://beehhs7t2qyd"

[node name="road_collision" type="StaticBody2D" parent="road"]
position = Vector2(0, -118)

[node name="collision_shape" type="CollisionShape2D" parent="road/road_collision"]
position = Vector2(1347, 61.0001)
shape = SubResource("RectangleShape2D_a4cdl")

[node name="screen_boundaries" type="StaticBody2D" parent="road"]

[node name="collision_shape_left" type="CollisionShape2D" parent="road/screen_boundaries"]
position = Vector2(124, -464)
shape = SubResource("RectangleShape2D_ffie5")

[node name="collision_shape_right" type="CollisionShape2D" parent="road/screen_boundaries"]
position = Vector2(1824, -458)
shape = SubResource("RectangleShape2D_4ieac")

[node name="pavement_visual" type="Polygon2D" parent="road"]
z_index = 2
position = Vector2(9, -208.888)
scale = Vector2(1, 2.00862)
texture = ExtResource("2_ucmrg")
polygon = PackedVector2Array(-9, -136.966, 2677, -136.966, 2679, 162.248, -8, 162.248)
uv = PackedVector2Array(-2.88409, 1.21918, 3841.91, 7.33509, 3845.91, 1179.26, 3.23183, 1197.11)

[node name="sidewalk_top" type="Node2D" parent="road"]
z_index = 3
position = Vector2(0, -441)
script = ExtResource("4_myeqy")
item_types = Array[PackedScene]([ExtResource("5_myeqy")])
global_speed_multiplier = 0.3
apply_random_scaling = true
random_scale_min = 1.2
random_scale_max = 1.2
spawn_buffer = null
despawn_buffer = null
metadata/_custom_type_script = "uid://beehhs7t2qyd"

[node name="sidewalk_top_objects" type="Node2D" parent="road/sidewalk_top"]
z_index = 1
position = Vector2(0, -19)
script = ExtResource("4_myeqy")
item_types = Array[PackedScene]([ExtResource("10_qrt7r"), ExtResource("14_4yt5v"), ExtResource("18_4ieac"), ExtResource("17_ffie5")])
global_speed_multiplier = 0.3
spawn_method = 1
spawn_probability = 0.4
apply_random_scaling = true
random_scale_min = 1.3
random_scale_max = 1.3
spawn_buffer = null
despawn_buffer = 2000
metadata/_custom_type_script = "uid://beehhs7t2qyd"

[node name="police_cars_treadmill" type="Node2D" parent="road"]
z_index = 4
position = Vector2(0, -333)
script = ExtResource("4_myeqy")
item_types = Array[PackedScene]([ExtResource("14_uha6m")])
spawn_method = 1
spawn_probability = 1.3
start_active = false
use_own_speed = true
own_speed = 150.0
apply_random_displacement = true
random_displacement_min = Vector2(0, -100)
spawn_buffer = null
despawn_buffer = 1200
metadata/_custom_type_script = "uid://beehhs7t2qyd"

[node name="sidewalk_middle" type="Node2D" parent="road"]
z_index = 5
position = Vector2(0, -256)
script = ExtResource("4_myeqy")
item_types = Array[PackedScene]([ExtResource("5_myeqy")])
global_speed_multiplier = 0.6
apply_random_scaling = true
random_scale_min = 2.3
random_scale_max = 2.3
spawn_buffer = null
despawn_buffer = null
metadata/_custom_type_script = "uid://beehhs7t2qyd"

[node name="sidewalk_middle_objects" type="Node2D" parent="road/sidewalk_middle"]
z_index = 1
position = Vector2(0, -24)
script = ExtResource("4_myeqy")
item_types = Array[PackedScene]([ExtResource("5_t50dl"), ExtResource("6_dkpwp"), ExtResource("14_4yt5v"), ExtResource("17_ffie5"), ExtResource("18_4ieac")])
global_speed_multiplier = 0.6
spawn_method = 1
spawn_probability = 0.5
apply_random_scaling = true
random_scale_min = 2.0
random_scale_max = 2.0
spawn_buffer = null
despawn_buffer = 2000
metadata/_custom_type_script = "uid://beehhs7t2qyd"

[node name="obstacles" type="Node2D" parent="road"]
z_index = 6
position = Vector2(0, -112)
script = ExtResource("4_myeqy")
item_types = Array[PackedScene]([ExtResource("11_4yt5v"), ExtResource("12_w4tmd"), ExtResource("13_01fa4")])
global_speed_multiplier = 0.9
spawn_method = 1
spawn_probability = 1.0
treadmill_group = 1
start_active = false
spawn_buffer = null
despawn_buffer = null
metadata/_custom_type_script = "uid://beehhs7t2qyd"

[node name="heal_items_treadmill" type="Node2D" parent="road"]
z_index = 6
position = Vector2(0, -446)
script = ExtResource("4_myeqy")
item_types = Array[PackedScene]([ExtResource("19_u40ln")])
global_speed_multiplier = 0.9
spawn_method = 1
spawn_probability = 0.2
start_active = false
apply_random_displacement = true
random_displacement_min = Vector2(0, -10)
random_displacement_max = Vector2(0, 10)
spawn_buffer = null
despawn_buffer = null
metadata/_custom_type_script = "uid://beehhs7t2qyd"

[node name="policemen" type="Node2D" parent="road"]
z_index = 6
position = Vector2(0, -854)
script = ExtResource("4_myeqy")
item_types = Array[PackedScene]([ExtResource("18_gxndn")])
global_speed_multiplier = 0.9
spawn_method = 1
spawn_probability = 1.5
treadmill_group = 1
start_active = false
apply_random_scaling = true
apply_random_displacement = true
spawn_buffer = null
despawn_buffer = null
metadata/_custom_type_script = "uid://beehhs7t2qyd"

[node name="sidewalk_bottom" type="Node2D" parent="road"]
z_index = 8
position = Vector2(0, 7)
script = ExtResource("4_myeqy")
item_types = Array[PackedScene]([ExtResource("5_myeqy")])
global_speed_multiplier = 1.7
apply_random_scaling = true
random_scale_min = 3.5
random_scale_max = 3.5
spawn_buffer = null
despawn_buffer = null
metadata/_custom_type_script = "uid://beehhs7t2qyd"

[node name="sidewalk_bottom_objects" type="Node2D" parent="road/sidewalk_bottom"]
z_index = 1
position = Vector2(0, -18)
script = ExtResource("4_myeqy")
item_types = Array[PackedScene]([ExtResource("9_hjabt")])
global_speed_multiplier = 3.2
spawn_method = 1
spawn_probability = 0.4
spawn_buffer = null
despawn_buffer = null
metadata/_custom_type_script = "uid://beehhs7t2qyd"

[node name="treadmill_helicopters" type="Node2D" parent="."]
z_index = 9
position = Vector2(0, 870)
script = ExtResource("4_myeqy")
item_types = Array[PackedScene]([ExtResource("27_ffie5")])
spawn_method = 1
spawn_probability = 0.05
use_own_speed = true
own_speed = 300.0
spawn_buffer = 2000
despawn_buffer = 2000
metadata/_custom_type_script = "uid://beehhs7t2qyd"

[node name="running_text" type="CanvasLayer" parent="."]

[node name="running_text" parent="running_text" instance=ExtResource("2_a4cdl")]
z_index = 1
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -229.0
offset_bottom = -189.0
grow_vertical = 0
breaking_news = Array[String](["A duck reportedly on the run after having stolen 1 Bln dollars. Police pursuit follows", "Witnesses report that the duck on the run uses a special dashing technique to avoid police barricades", "Did you know ducks can [color=red]FLY[/color]?? Some ducks find it easier to take off mid jump!", "Ducks who duck under obstacles while moving at high speeds have a 13.459% higher survival rate, according to a British scientist and duck researcher Ryan Dox", "Back to the duck chase: bystanders swear they saw the suspect \"dash right through the police barricades\" as if it was \"sort of invincible\". Details are still being established"])
running_text_speed = -250
running_text_font_size = 80

[node name="hud" type="CanvasLayer" parent="."]

[node name="top_left_widget" type="VBoxContainer" parent="hud"]
offset_left = 206.95
offset_top = 130.0
offset_right = 570.0
offset_bottom = 256.0

[node name="breaking_news_label" type="TextureRect" parent="hud/top_left_widget"]
layout_mode = 2
size_flags_vertical = 3
size_flags_stretch_ratio = 2.0
texture = ExtResource("9_dkpwp")
expand_mode = 1
stretch_mode = 4

[node name="spacer" type="Control" parent="hud/top_left_widget"]
layout_mode = 2
size_flags_vertical = 3
size_flags_stretch_ratio = 0.1

[node name="stam_bar" type="ProgressBar" parent="hud/top_left_widget"]
layout_mode = 2
size_flags_vertical = 3
theme = SubResource("Theme_4ieac")
max_value = 1.0
show_percentage = false

[node name="top_right_widget" type="VBoxContainer" parent="hud"]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -420.895
offset_top = 145.485
offset_right = -236.895
offset_bottom = 287.485
grow_horizontal = 0

[node name="live_label" type="TextureRect" parent="hud/top_right_widget"]
layout_mode = 2
size_flags_vertical = 3
size_flags_stretch_ratio = 2.0
texture = ExtResource("10_envix")
expand_mode = 3
stretch_mode = 4

[node name="spacer" type="Control" parent="hud/top_right_widget"]
layout_mode = 2
size_flags_vertical = 3
size_flags_stretch_ratio = 0.1

[node name="hearts" type="HBoxContainer" parent="hud/top_right_widget"]
layout_mode = 2
size_flags_vertical = 3

[node name="heart1" type="TextureRect" parent="hud/top_right_widget/hearts"]
layout_mode = 2
size_flags_horizontal = 3
texture = ExtResource("11_q31dt")
expand_mode = 1
stretch_mode = 5

[node name="heart2" type="TextureRect" parent="hud/top_right_widget/hearts"]
layout_mode = 2
size_flags_horizontal = 3
texture = ExtResource("11_q31dt")
expand_mode = 1
stretch_mode = 5

[node name="heart3" type="TextureRect" parent="hud/top_right_widget/hearts"]
layout_mode = 2
size_flags_horizontal = 3
texture = ExtResource("11_q31dt")
expand_mode = 1
stretch_mode = 5

[node name="heart4" type="TextureRect" parent="hud/top_right_widget/hearts"]
layout_mode = 2
size_flags_horizontal = 3
texture = ExtResource("11_q31dt")
expand_mode = 1
stretch_mode = 5

[node name="game_score_widget" parent="hud" instance=ExtResource("31_3ww4y")]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_top = 126.808
offset_bottom = 126.808
grow_horizontal = 2

[node name="ui" type="CanvasLayer" parent="."]
